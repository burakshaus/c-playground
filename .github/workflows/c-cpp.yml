name: C/C++ CI

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    
    # GCC zaten yüklü gelir, doğrudan derleme yapabiliriz
    - name: Compile sys_cp
      run: gcc sys_cp_v2.c -o mycp4

    # Derlemenin başarılı olduğunu kanıtlamak için versiyon/yardım mesajı yazdırabilirsin
    # Veya basitçe dosyanın oluşup oluşmadığını kontrol edebilirsin
    - name: Verify Build
      run: ls -l mycp4
      
    # İstersen burada basit bir test de yapabilirsin
    - name: Run Test
      run: |
        echo "Test verisi" > test.txt
        ./mycp4 test.txt kopya_test.txt
        cat kopya_test.txt
